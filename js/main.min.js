class Main{constructor(){this.Id_ArrayList=["floatingInputGrid"],this.ClassName_ArrayList=["floatingInputGrid"],this.localStorage_Array=[],this.localStorage_keyName="HLS url",this.localStorage_value="https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8"}getElementById=e=>document.getElementById(e);getElementsByClassName=e=>document.getElementsByClassName(e);customHTML=()=>{for(const e of document.querySelectorAll(".bi"))e.classList.add("px-1","user-select-none");for(const e of document.querySelectorAll("a"))e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank")};NProgress=()=>{NProgress.start(),NProgress.done()};fakeLoading=()=>{baffle(".baffle_elm").set({characters:["█","▓","▒","░","<",">","/"],speed:50}).reveal(300),this.NProgress()};MomentJS=()=>{for(const e of document.querySelectorAll("#last_updated"))e.innerHTML=moment(e.title.replaceAll("/",""),"DDMMYYYY").fromNow()};Menu=()=>{const e=document.getElementById("floatingSelectGrid");let t=e.value;"1"==t?document.pictureInPictureElement?(document.exitPictureInPicture(),e.selectedOptions[0].classList.remove("text-bg-success")):document.pictureInPictureEnabled&&(document.getElementById("video").requestPictureInPicture(),e.selectedOptions[0].classList.add("text-bg-success")):"2"==t&&(localStorage.clear(),document.location.reload(!0)),this.fakeLoading()};_uniq=e=>[...new Set(e)];addToLocalStorageArray=(e,t)=>{this.localStorage_Array.push(t),localStorage.setItem(e,JSON.stringify(this._uniq(this.localStorage_Array)))};getDataLocalStorage=()=>{if(null!==localStorage.getItem(this.localStorage_keyName))return this.localStorage_Array=JSON.parse(localStorage.getItem(this.localStorage_keyName));this.addToLocalStorageArray(this.localStorage_keyName,this.localStorage_value)};datalistOptionsGenerator=()=>{for(const e of document.querySelectorAll("#yy"))e.remove();for(const e of this.getDataLocalStorage())document.getElementById("datalistOptions").innerHTML+=`<option value=${e} id="yy"></option>`};ListenInputOnChange=()=>{this.getElementById(this.Id_ArrayList[0]).addEventListener("change",(()=>{validator.isEmpty(this.getElementById(this.Id_ArrayList[0]).value)||validator.isEmail(this.getElementById(this.Id_ArrayList[0]).value)||!validator.isURL(this.getElementById(this.Id_ArrayList[0]).value)||(this.addToLocalStorageArray(this.localStorage_keyName,this.getElementById(this.Id_ArrayList[0]).value),this.datalistOptionsGenerator(),this.HLSplayer())}))};getInputValue=()=>""===this.getElementById(this.Id_ArrayList[0]).value?this.getElementById(this.Id_ArrayList[0]).value=this.getDataLocalStorage().at(-1):this.getElementById(this.Id_ArrayList[0]).value;HLSplayer=()=>{var e=document.getElementById("video");if(Hls.isSupported()){var t=new Hls({autoStartLoad:!0,startPosition:-1,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,defaultAudioCodec:void 0,initialLiveManifestSize:1,maxBufferLength:60,maxMaxBufferLength:600,backBufferLength:1/0,maxBufferSize:362880,maxBufferHole:.5,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveDurationInfinity:!1,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,licenseXhrSetup:void 0,drmSystemOptions:{},cmcd:void 0});t.loadSource(this.getInputValue()),t.attachMedia(e),t.on(Hls.Events.MEDIA_ATTACHED,(function(){e.muted=!0,e.play()}))}else e.canPlayType("application/vnd.apple.mpegurl")&&(e.src=this.getInputValue(),e.addEventListener("canplay",(function(){e.play()})));this.fakeLoading()}}const main=new Main;main.customHTML(),main.getDataLocalStorage(),main.datalistOptionsGenerator(),main.ListenInputOnChange(),main.getInputValue(),main.HLSplayer();